<!--
             _    _ _     _
            / \  | (_)___| |_ __ _ _ __
           / _ \ | | / __| __/ _` | '__|
          / ___ \| | \__ \ || (_| | |
         /_/   \_\_|_|___/\__\__,_|_|
         -- TELstatic
         -- 2021-04-27
-->

<!DOCTYPE html>
<html lang="zh_CN">
<head>
    <meta charset="utf-8">
    <title></title>
    <link href="https://cdn.bootcdn.net/ajax/libs/iview/3.5.5-rc.1/styles/iview.min.css" rel="stylesheet">
</head>
<body>
<div id="app">
    <i-table :columns="columns" :data="data">
        <template slot-scope="{ row, index }" slot="action">
            <i-button :to="row.link" size="small" type="primary" target="_blank">下载</i-button>
        </template>
    </i-table>
</div>
</body>
<script src="https://cdn.bootcdn.net/ajax/libs/axios/0.21.1/axios.min.js"></script>
<script src="https://cdn.bootcdn.net/ajax/libs/vue/2.6.12/vue.min.js"></script>
<script src="https://cdn.bootcdn.net/ajax/libs/iview/3.5.5-rc.1/iview.min.js"></script>
<script>
    var vm = new Vue({
        el: '#app',
        data: {
            url: 'https://cdn.telstatic.xyz/',
            data: [],
            columns: [],
        },
        mounted() {
            this.getData();
        },
        methods: {
            getData() {
                var url = this.url + location.pathname.replace('/index.html', '').replaceAll('/', '') + '.json';

                axios.get(url).then(res => {
                    this.data = res.data.data;
                    this.columns = res.data.columns;
                    document.title = res.data.title;
                });
            },
        },
    });
</script>
</html>
